name: GitHub Actions Demo
on: 
  # pull_request:
  push:
  
  workflow_dispatch:
env: 
  IMAGE_NAME: "hogepiyo"
  IMAGE_TAG: "piyo"

jobs:
  push-image: 
    name: push-image
    runs-on: ubuntu-latest
    container:
      image: alpine:3.14.2
    steps:
      - name: temporary
        run: |
          apk add bash
      - name: temporary2
        shell: bash
        run: |
          # if [ "${{env.IMAGE_NAME}}" == "hoge" ]
          if [ "${{env.IMAGE_NAME}}" =~ ^hoge.*$ ]
          then
              echo "hoge"
          else
              echo "hogehoge"
          fi
          
          
  push-image2: 
    name: push-image2
    runs-on: ubuntu-latest
    container:
      image: alpine:3.14.2
    steps:
      - name: temporary2
        run: 
          case "${{env.IMAGE_NAME}}" in 
              "hoge")
                echo "hoge" 
              *)
                echo "hogehoge"
          esac



#   push-image2: 
#     name: push-image
#     runs-on: ubuntu-latest
#     container:
#       image: alpine:3.14.2
#     steps:
#       - name: temporary2
#       - run: |
#         if [ expr "${{env.IMAGE_NAME}}" : "^hoge.*$" >/dev/null ] 
#         then
#             echo "hoge" 
#         else 
#             echo "hogehoge"
#         fi

